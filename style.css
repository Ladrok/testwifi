:root {
  --bg: #080d18;
  --bg2: #0f1826;
  --bg3: #162030;
  --border: #1e2d45;
  --text: #dde6f0;
  --muted: #5a6a80;
  --cyan: #00f0ff;
  --magenta: #cc00ff;
  --green: #00ff88;
  --red: #ff0044;
  --yellow: #ffcc00;
  --gcyan: rgba(0,240,255,0.35);
  --gmagenta: rgba(204,0,255,0.35);
}
* { margin:0; padding:0; box-sizing:border-box; }
body { font-family:'JetBrains Mono',monospace; background:var(--bg); color:var(--text); min-height:100vh; overflow-x:hidden; }

.bg-grid {
  position:fixed; inset:0; z-index:0; pointer-events:none;
  background-image: linear-gradient(rgba(0,240,255,.025) 1px,transparent 1px), linear-gradient(90deg,rgba(0,240,255,.025) 1px,transparent 1px);
  background-size:44px 44px;
}

.container { position:relative; z-index:1; max-width:1400px; margin:0 auto; padding:2rem; }

header {
  display:flex; justify-content:space-between; align-items:center;
  padding:1.5rem 0; border-bottom:1px solid var(--border); margin-bottom:2.5rem;
}
.logo {
  font-family:'Orbitron',sans-serif; font-size:2.2rem; font-weight:900; letter-spacing:2px;
  background:linear-gradient(135deg,var(--cyan),var(--magenta)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text;
}
.logo span { opacity:.8; }

.header-info { display:flex; gap:2rem; }
.info-item { display:flex; flex-direction:column; gap:.2rem; }
.lbl { font-size:.65rem; color:var(--muted); letter-spacing:2px; }
.info-item span:last-child { font-size:.9rem; color:var(--cyan); }

.test-area { display:flex; gap:3rem; align-items:center; margin-bottom:2rem; }

.gauge-wrap { position:relative; width:360px; height:360px; flex-shrink:0; }
#gauge { width:100%; height:100%; }
.gauge-center {
  position:absolute; top:50%; left:50%; transform:translate(-50%,-50%);
  text-align:center; display:flex; flex-direction:column; align-items:center; gap:.3rem;
}
.speed-num { font-family:'Orbitron',sans-serif; font-size:4.5rem; font-weight:900; line-height:1; background:linear-gradient(135deg,var(--cyan),var(--magenta)); -webkit-background-clip:text; -webkit-text-fill-color:transparent; background-clip:text; }
.speed-unit { font-size:1rem; color:var(--muted); }
.speed-status { font-size:.75rem; color:var(--muted); letter-spacing:1px; text-transform:uppercase; margin-top:.5rem; }

.metrics { display:grid; grid-template-columns:repeat(2,1fr); gap:1rem; flex:1; }
.metric-card {
  background:var(--bg2); border:1px solid var(--border); border-radius:12px; padding:1.5rem;
  display:flex; gap:1rem; align-items:center; transition:border-color .2s, box-shadow .2s;
}
.metric-card:hover { border-color:var(--cyan); box-shadow:0 0 20px rgba(0,240,255,.15); }
.metric-icon { font-size:2rem; }
.metric-icon.down { color:var(--cyan); }
.metric-icon.up { color:var(--magenta); }
.metric-icon.ping { color:var(--green); }
.metric-icon.jitter { color:var(--yellow); }
.metric-lbl { font-size:.7rem; color:var(--muted); letter-spacing:1px; text-transform:uppercase; margin-bottom:.3rem; }
.metric-val { font-family:'Orbitron',sans-serif; font-size:1.6rem; font-weight:700; }

.modes { display:flex; gap:.75rem; justify-content:center; margin-bottom:1.5rem; flex-wrap:wrap; }
.mode-btn {
  background:var(--bg2); border:1px solid var(--border); border-radius:10px;
  padding:1rem 1.5rem; display:flex; flex-direction:column; align-items:center; gap:.3rem;
  cursor:pointer; color:var(--text); font-family:'JetBrains Mono',monospace; font-size:1rem;
  transition:all .2s; min-width:130px;
}
.mode-btn:hover { border-color:var(--cyan); box-shadow:0 0 15px rgba(0,240,255,.15); }
.mode-btn.active { border-color:var(--magenta); background:rgba(204,0,255,.1); box-shadow:0 0 20px rgba(204,0,255,.25); }
.mode-sub { font-size:.7rem; color:var(--muted); }

.start-btn {
  display:block; width:100%; max-width:420px; margin:0 auto 2.5rem;
  padding:1.5rem; background:linear-gradient(135deg,var(--cyan),var(--magenta));
  border:none; border-radius:14px; font-family:'Orbitron',sans-serif; font-size:1.3rem;
  font-weight:700; color:#fff; letter-spacing:2px; cursor:pointer;
  transition:transform .2s, box-shadow .2s;
}
.start-btn:hover { transform:translateY(-3px); box-shadow:0 8px 30px var(--gmagenta); }
.start-btn.running { background:var(--bg2); border:2px solid var(--red); color:var(--red); }

.stats-box { background:var(--bg2); border:1px solid var(--border); border-radius:14px; padding:2rem; margin-bottom:2rem; }
.stats-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:1.5rem; }
.stats-head h2 { font-family:'Orbitron',sans-serif; font-size:1.5rem; color:var(--cyan); }
#toggle-stats { background:none; border:1px solid var(--border); color:var(--cyan); padding:.4rem .8rem; border-radius:6px; cursor:pointer; font-size:1rem; transition:all .2s; }
#toggle-stats:hover { border-color:var(--cyan); }

#stats-body { display:none; }
#stats-body.open { display:block; }

.stats-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:1rem; margin-bottom:2rem; }
.stat-card { background:var(--bg3); border:1px solid var(--border); border-radius:8px; padding:1.2rem; }
.stat-lbl { font-size:.7rem; color:var(--muted); letter-spacing:1px; text-transform:uppercase; margin-bottom:.4rem; }
.stat-val { font-size:1.3rem; color:var(--cyan); font-weight:600; }

.section-title { font-family:'Orbitron',sans-serif; font-size:1.1rem; color:var(--magenta); margin:1.5rem 0 1rem; }

.perf-grid { display:grid; grid-template-columns:repeat(3,1fr); gap:1rem; margin-bottom:1rem; }
.perf-card { background:var(--bg3); border:1px solid var(--border); border-radius:8px; padding:1rem; }
.perf-name { font-size:.75rem; color:var(--muted); text-transform:uppercase; letter-spacing:1px; margin-bottom:.6rem; }
.perf-bar { height:6px; background:var(--border); border-radius:3px; overflow:hidden; margin-bottom:.5rem; }
.perf-fill { height:100%; width:0%; border-radius:3px; transition:width .5s ease; background:linear-gradient(90deg,var(--cyan),var(--green)); }
.perf-card.poor .perf-fill { background:var(--red); }
.perf-card.fair .perf-fill { background:var(--yellow); }
.perf-card.good .perf-fill { background:var(--green); }
.perf-card.excellent .perf-fill { background:linear-gradient(90deg,var(--cyan),var(--green)); }
.perf-text { font-size:.85rem; color:var(--text); font-weight:600; }

.graph-box { background:var(--bg3); border:1px solid var(--border); border-radius:8px; padding:.75rem; margin-bottom:.75rem; }
.graph-box canvas { width:100%; height:180px; display:block; }

.spike-info { display:flex; gap:1.5rem; align-items:center; font-size:.85rem; color:var(--muted); flex-wrap:wrap; margin-bottom:1.5rem; }
.spike-info strong { color:var(--cyan); }
.legend { display:flex; align-items:center; gap:.5rem; margin-left:auto; }
.speed-legend { display:flex; gap:1.5rem; justify-content:center; font-size:.85rem; color:var(--muted); margin-bottom:1rem; }

.dot { display:inline-block; width:14px; height:3px; border-radius:2px; margin-right:4px; vertical-align:middle; }
.dot.cyan { background:var(--cyan); box-shadow:0 0 6px var(--cyan); }
.dot.magenta { background:var(--magenta); box-shadow:0 0 6px var(--magenta); }
.dot.yellow { background:var(--yellow); }
.dot.red { background:var(--red); }

footer { text-align:center; padding:1.5rem 0; color:var(--muted); font-size:.8rem; border-top:1px solid var(--border); margin-top:1rem; }

@media (max-width:1100px) {
  .test-area { flex-direction:column; }
  .gauge-wrap { width:300px; height:300px; }
  .speed-num { font-size:3.5rem; }
}
@media (max-width:768px) {
  .header-info { flex-direction:column; gap:.5rem; }
  .metrics { grid-template-columns:1fr; }
  .stats-grid { grid-template-columns:1fr; }
  .perf-grid { grid-template-columns:1fr; }
}
